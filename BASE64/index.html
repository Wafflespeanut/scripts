<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../stylesheets/pygment_trac.css" media="screen" />
    <title>Base-64 Encoder | Convert everything to texts!</title>
	<style>#dropspace { border: 2px dashed #fff; border-radius: 7px; width:970px; height:50px; padding: 20px; text-align: center }
  textarea { border:1px solid green; border-radius: 7px; padding: 5px; background: black; color:white; font-family:Lucida console }</style>
  </head>

  <body>
    <header>
      <div class="container">
        <h1>Base-64 Encoder</h1>
        <h2>Convert everything to texts!</h2>
        <section id="downloads">
          <a href="../index.html" class="btn btn-blog"><span class="icon"></span>Home</a>
		  <a href="https://github.com/Wafflespeanut" class="btn btn-github"><span class="icon"></span>My GitHub profile</a>
          <a href="https://wafflescrazypeanut.wordpress.com" class="btn btn-blog"><span class="icon"></span>Arrow of Time (My blog)</a>
        </section>
      </div>
    </header>
    <div class="container">
      <section id="main_content">
	  <p>[<a href="http://wp.me/p3OCmi-ts">Related blog post on data-URI scheme</a>]</p>
		<div id="dropspace"><h3>Drag & Drop files into this box...</h3></div><br>
		<center><h3><< Data-URI code below >></h3>
		<textarea  style="width:1000px; height:100px;" id="out"></textarea></center>
		<output id="info"></output>
		<script type="text/javascript">
		
			if (window.File && window.FileReader && window.FileList && window.Blob) {
				// All the File APIs are supported!
			} else { alert('File APIs are not fully supported in this browser!') }
			
			function read(e) {
			e.preventDefault(); var files=e.dataTransfer.files, output=[]
			for (var i=0,f;i==0;i++) {
				 f=files[i]; output.push('<li><strong>',escape(f.name),'</strong> - (Type: ', f.type || 'N/A', '), Last modified: ',f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'N/A',', Size: ',f.size,' bytes') }
			var file=files[0], reader=new FileReader()
			reader.onload = function(e) { out.value=e.target.result }
			reader.readAsDataURL(file)
			document.getElementById('info').innerHTML = '<ul>'+output.join('')+'<br>Encoded size is (always) increased by 33%!'+'</li></ul>' }
			
			function drag(e) { e.preventDefault(); e.dataTransfer.dropEffect='copy' }

			var d=document.getElementById('dropspace'), out=document.getElementById("out")
			out.value=''; out.onclick=function() { out.select() }
			d.addEventListener('dragover',drag,false); d.addEventListener('drop',read,false)
		
		</script>
      </section>
    </div>
  </body>
</html>